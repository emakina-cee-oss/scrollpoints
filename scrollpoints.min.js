Scrollpoints=function(a){var b={},c=(document.body,window.innerHeight,[]),d={once:!0,reversed:!1,when:"entered",offset:0},e=function(b){b===a&&(b={});var c={};for(var e in d)c[e]=d[e],b.hasOwnProperty(e)&&(c[e]=b[e]);return c},f=function(a){return a.offsetTop},g=function(a){return f(a)+a.offsetHeight},h=function(){return window.scrollY||document.documentElement.scrollTop},i=function(){return h()+window.innerHeight},j=function(a,b,c){return b?!a.done&&h()<g(a.element)-c:!a.done&&i()>f(a.element)+c},k=function(a,b,c){return b?!a.done&&h()<f(a.element)-c:!a.done&&i()>g(a.element)+c},l=function(a,b,c){return b?!a.done&&i()<g(a.element)-c:!a.done&&h()>f(a.element)+c},m=function(a,b,c){return b?!a.done&&i()<f(a.element)-c:!a.done&&h()>g(a.element)+c};return b.add=function(a,b,d){var f=e(d),g="entered"===f.when||"entering"===f.when?!0:!1;console.log(g),c.push({element:a,callback:b,once:f.once,reversed:f.reversed,when:f.when,offset:f.offset,active:g,done:!1})},window.addEventListener("scroll",function(){c.forEach(function(a){"leaving"!==a.when&&"left"!==a.when||!k(a,!1,a.offset)||(a.active=!0);var c="entered"===a.when&&k(a,a.reversed,a.offset)||"entering"===a.when&&j(a,a.reversed,a.offset)||"leaving"===a.when&&l(a,a.reversed,a.offset)||"left"===a.when&&m(a,a.reversed,a.offset);a.active&&c&&(a.callback.call(window,a.element),a.done=!0,a.once||(("entered"===a.when||"entering"===a.when)&&b.add(a.element,function(){a.done=!1},{when:"left",reversed:!a.reversed}),("left"===a.when||"leaving"===a.when)&&b.add(a.element,function(){a.done=!1},{when:"entered",reversed:!a.reversed})))})}),b}();