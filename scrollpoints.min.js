var Scrollpoints=function(a){"use strict";var b={},c=[],d={once:!0,reversed:!1,when:"entered",offset:0},e=function(b){b===a&&(b={});var c={};for(var e in d)b.hasOwnProperty(e)?c[e]=b[e]:c[e]=d[e];return c},f=function(a){return a.offsetWidth>0||a.offsetHeight>0},g=function(a){return"entered"===a?"leaving":"entering"===a?"left":"left"===a?"entering":"leaving"===a?"entered":void 0},h=function(){return document.body.scrollTop},i=function(){return h()+window.innerHeight},j=function(a){return a.getBoundingClientRect().top+h()},k=function(a){return j(a)+a.offsetHeight},l=function(a){return a.reversed?!a.done&&h()<=k(a.element)-a.offset:!a.done&&i()>=j(a.element)+a.offset},m=function(b,c){var d=c===a?b.reversed:c;return d?!b.done&&h()<=j(b.element)-b.offset:!b.done&&i()>=k(b.element)+b.offset},n=function(a){return a.reversed?!a.done&&i()<=k(a.element)-a.offset:!a.done&&h()>=j(a.element)+a.offset},o=function(b,c){var d=c===a?b.reversed:c;return d?!b.done&&i()<=j(b.element)-b.offset:!b.done&&h()>=k(b.element)+b.offset},p=function(){c.forEach(function(a){if(f(a.element)){(!a.active&&("leaving"===a.when||"left"===a.when)&&m(a,!1)||!a.active&&("entering"===a.when||"entered"===a.when)&&o(a,!1))&&(a.active=!0);var c="entered"===a.when&&m(a)||"entering"===a.when&&l(a)||"leaving"===a.when&&n(a)||"left"===a.when&&o(a);a.active&&c&&(a.callback.call(window,a.element),a.done=!0,setTimeout(function(){a.once||b.add(a.element,function(){a.done=!1},{when:g(a.when),reversed:!a.reversed})}))}})};return b.add=function(a,b,d){var f=e(d),g=!0;(("entered"===f.when||"entering"===f.when)&&f.reversed||("left"===f.when||"leaving"===f.when)&&f.reversed)&&(g=!1),c.push({element:a,callback:b,once:f.once,reversed:f.reversed,when:f.when,offset:f.offset,active:g,done:!1}),p()},b.destroy=function(){return c=[],b},b.configure=function(a){d=e(a)},window.addEventListener("scroll",p),b}();"undefined"!=typeof module&&module.exports&&(module.exports=Scrollpoints),"undefined"!=typeof exports&&(exports=Scrollpoints);