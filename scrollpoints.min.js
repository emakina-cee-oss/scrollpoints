var Scrollpoints=function(a){"use strict";var b={},c=[],d={once:!0,reversed:!1,when:"entered",offset:0},e=function(b){b===a&&(b={});var c={};for(var e in d)c[e]=b.hasOwnProperty(e)?b[e]:d[e];return c},f=function(a){return a.offsetWidth>0||a.offsetHeight>0},g=function(){return document.body.scrollTop},h=function(){return g()+window.innerHeight},i=function(a){return a.getBoundingClientRect().top+g()},j=function(a){return i(a)+a.offsetHeight},k=function(a){return a.reversed?!a.done&&g()<=j(a.element)-a.offset:!a.done&&h()>=i(a.element)+a.offset},l=function(b,c){var d=c===a?b.reversed:c;return d?!b.done&&g()<=i(b.element)-b.offset:!b.done&&h()>=j(b.element)+b.offset},m=function(a){return a.reversed?!a.done&&h()<=j(a.element)-a.offset:!a.done&&g()>=i(a.element)+a.offset},n=function(b,c){var d=c===a?b.reversed:c;return d?!b.done&&h()<=i(b.element)-b.offset:!b.done&&g()>=j(b.element)+b.offset},o=function(){c.forEach(function(a){if(f(a.element)){(!a.active&&("leaving"===a.when||"left"===a.when)&&l(a,!1)||!a.active&&("entering"===a.when||"entered"===a.when)&&n(a,!1))&&(a.active=!0);var c="entered"===a.when&&l(a)||"entering"===a.when&&k(a)||"leaving"===a.when&&m(a)||"left"===a.when&&n(a);a.active&&c&&(a.callback.call(window,a.element),a.done=!0,setTimeout(function(){a.once||("entered"===a.when&&b.add(a.element,function(){a.done=!1},{when:"leaving",reversed:!a.reversed}),"entering"===a.when&&b.add(a.element,function(){a.done=!1},{when:"left",reversed:!a.reversed}),"left"===a.when&&b.add(a.element,function(){a.done=!1},{when:"entering",reversed:!a.reversed}),"leaving"===a.when&&b.add(a.element,function(){a.done=!1},{when:"entered",reversed:!a.reversed}))}))}})};return b.add=function(a,b,d){var f=e(d),g=!0;(("entered"===f.when||"entering"===f.when)&&f.reversed||("left"===f.when||"leaving"===f.when)&&f.reversed)&&(g=!1),c.push({element:a,callback:b,once:f.once,reversed:f.reversed,when:f.when,offset:f.offset,active:g,done:!1}),o()},b.configure=function(a){d=e(a)},window.addEventListener("scroll",o),b}();module&&module.exports&&(module.exports=Scrollpoints),exports&&(exports=Scrollpoints);