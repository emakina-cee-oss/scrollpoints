<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Scrollpoints Demo</title>
	<link rel="stylesheet" href="main.css">
</head>
<body>
	<header class="nano-height cornflowerblue">
		<p><b>Scroll down &darr;</b></p>
		<p>I turn <span class="linen">linen</span> when I'm entering from below</p>
		<p>I turn <span class="deeppink">deeppink</span> when I'm entered from below and my top position is less than or equal to zero</p>
	</header>
	<section class="mega-height cornflowerblue"></section>
	<section class="mini-height">
        <p>I will turn <span class="red">red</span> when fully visible</p>
        <p>and <span class="cyan">cyan</span> when 300px inside of the screen</p>
        <p>I turn <span class="yellow">yellow</span> when you scroll too far and I start to leave the screen.</p>
        <p>When I start leaving the screen at the bottom edge, I will turn <span class="red">red</span> again.</p>
        <p>You can repeat the toggling between <span class="yellow">yellow</span> and <span class="red">red</span> as often as you want by scrolling up and down, but I won't turn <span class="cyan">cyan</span> again.</p>
        <div class="absolute">
            Nested absolute positioning.
            Will move to the left when fully visible.
        </div>
    </section>
	<section class="mega-height green"></section>

	<script src="../scrollpoints.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function () {

        var sections = document.getElementsByTagName('section'),
			header = document.getElementsByTagName('header')[0];

	    Scrollpoints.add(header, function(elem) {
		    elem.style.backgroundColor = 'deeppink';
	    }, {
		    when: 'entered',
		    reversed: true,
		    once: false
	    });

	    Scrollpoints.add(header, function(elem) {
		    elem.style.backgroundColor = 'linen';
	    }, {
		    when: 'entering',
		    reversed: true,
		    once: false
	    });

        Scrollpoints.add(sections[1], function(elem) {
            elem.style.backgroundColor = 'red';
        });

        Scrollpoints.add(sections[1], function(elem) {
            elem.style.backgroundColor = 'cyan';
        }, {offset: 300});

        Scrollpoints.add(sections[1], function(elem) {
            elem.style.backgroundColor = 'yellow';
        }, {when: 'leaving', once: false});

        Scrollpoints.add(sections[1], function (elem) {
            elem.style.backgroundColor = 'red';
        }, {when: 'leaving', reversed: true, once: false});

        Scrollpoints.add(document.querySelector('.absolute'), function (elem) {
            elem.classList.add('absolute-triggered');
        }, {when: 'entered'});

    });
    </script>
</body>
</html>
